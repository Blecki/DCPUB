function foo(a,b,c,d,e) //d and e will be stored on the stack
{
	return d * e;
}


//With SP+next_word

:L0main_footer
BRK
:L1foo
   SET PUSH, X
   SET PUSH, Y
   SET X, [0x0004+SP]
   SET Y, [0x0003+SP]
   MUL X, Y
   SET A, X
   SET PC, L2foo_footer
:L2foo_footer
   SET Y, POP
   SET X, POP
   SET PC, POP
:ENDOFPROGRAM

//without SP+next_word

:L0main_footer
BRK
:L1foo
   SET PUSH, X
   SET PUSH, Y
   SET J, SP
   SET X, [0x0004+J]
   SET J, SP
   SET Y, [0x0003+J]
   MUL X, Y
   SET A, X
   SET PC, L2foo_footer
:L2foo_footer
   SET Y, POP
   SET X, POP
   SET PC, POP
:ENDOFPROGRAM